{"ast":null,"code":"import { fromEntries } from './utils/from-entries/from-entries.js';\nimport { useCss } from './use-css.js';\nimport { useMantineTheme, useMantineThemeStyles } from '../theme/MantineProvider.js';\nimport { mergeClassNames } from './utils/merge-class-names/merge-class-names.js';\n\nfunction createStyles(getCssObjectOrCssObject) {\n  const getCssObject = typeof getCssObjectOrCssObject === \"function\" ? getCssObjectOrCssObject : () => getCssObjectOrCssObject;\n\n  function useStyles(params, options) {\n    const theme = useMantineTheme();\n    const themeStyles = useMantineThemeStyles()[options == null ? void 0 : options.name];\n    const {\n      css,\n      cx\n    } = useCss();\n    let count = 0;\n\n    function createRef(refName) {\n      count += 1;\n      return `mantine-ref_${refName || \"\"}_${count}`;\n    }\n\n    const cssObject = getCssObject(theme, params, createRef);\n\n    const _styles = typeof (options == null ? void 0 : options.styles) === \"function\" ? options == null ? void 0 : options.styles(theme) : (options == null ? void 0 : options.styles) || {};\n\n    const _themeStyles = typeof themeStyles === \"function\" ? themeStyles(theme) : themeStyles || {};\n\n    const _sx = typeof (options == null ? void 0 : options.sx) === \"function\" ? options.sx(theme) : options == null ? void 0 : options.sx;\n\n    const classes = fromEntries(Object.keys(cssObject).map(key => {\n      const _mergedStyles = cx(css(cssObject[key]), css(_themeStyles[key]), css(_styles[key]));\n\n      const mergedStyles = key === \"root\" ? cx(_mergedStyles, css(_sx)) : _mergedStyles;\n      return [key, mergedStyles];\n    }));\n    return {\n      classes: mergeClassNames(cx, classes, options == null ? void 0 : options.classNames, options == null ? void 0 : options.name),\n      cx\n    };\n  }\n\n  return useStyles;\n}\n\nexport { createStyles };","map":{"version":3,"sources":["../../src/tss/create-styles.ts"],"names":[],"mappings":";;;;;AAIO,SAAS,YAAT,CAAsB,uBAAtB,EAA+C;AACpD,QAAM,YAAY,GAAG,OAAO,uBAAP,KAAmC,UAAnC,GAAgD,uBAAhD,GAA0E,MAAM,uBAArG;;AACA,WAAS,SAAT,CAAmB,MAAnB,EAA2B,OAA3B,EAAoC;AAClC,UAAM,KAAK,GAAG,eAAe,EAA7B;AACA,UAAM,WAAW,GAAG,qBAAqB,GAAG,OAAO,IAAI,IAAX,GAAkB,KAAK,CAAvB,GAA2B,OAAO,CAAC,IAAtC,CAAzC;AACA,UAAM;AAAE,MAAA,GAAF;AAAO,MAAA;AAAP,QAAc,MAAM,EAA1B;AACA,QAAI,KAAK,GAAG,CAAZ;;AACA,aAAS,SAAT,CAAmB,OAAnB,EAA4B;AAC1B,MAAA,KAAK,IAAI,CAAT;AACA,aAAQ,eAAc,OAAO,IAAI,EAAG,IAAG,KAAM,EAA7C;AACD;;AACD,UAAM,SAAS,GAAG,YAAY,CAAC,KAAD,EAAQ,MAAR,EAAgB,SAAhB,CAA9B;;AACA,UAAM,OAAO,GAAG,QAAQ,OAAO,IAAI,IAAX,GAAkB,KAAK,CAAvB,GAA2B,OAAO,CAAC,MAA3C,MAAuD,UAAvD,GAAoE,OAAO,IAAI,IAAX,GAAkB,KAAK,CAAvB,GAA2B,OAAO,CAAC,MAAR,CAAe,KAAf,CAA/F,GAAuH,CAAC,OAAO,IAAI,IAAX,GAAkB,KAAK,CAAvB,GAA2B,OAAO,CAAC,MAApC,KAA+C,EAAtL;;AACA,UAAM,YAAY,GAAG,OAAO,WAAP,KAAuB,UAAvB,GAAoC,WAAW,CAAC,KAAD,CAA/C,GAAyD,WAAW,IAAI,EAA7F;;AACA,UAAM,GAAG,GAAG,QAAQ,OAAO,IAAI,IAAX,GAAkB,KAAK,CAAvB,GAA2B,OAAO,CAAC,EAA3C,MAAmD,UAAnD,GAAgE,OAAO,CAAC,EAAR,CAAW,KAAX,CAAhE,GAAoF,OAAO,IAAI,IAAX,GAAkB,KAAK,CAAvB,GAA2B,OAAO,CAAC,EAAnI;;AACA,UAAM,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAP,CAAY,SAAZ,EAAuB,GAAvB,CAA4B,GAAD,IAAS;AAC9D,YAAM,aAAa,GAAG,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,GAAD,CAAV,CAAJ,EAAsB,GAAG,CAAC,YAAY,CAAC,GAAD,CAAb,CAAzB,EAA8C,GAAG,CAAC,OAAO,CAAC,GAAD,CAAR,CAAjD,CAAxB;;AACA,YAAM,YAAY,GAAG,GAAG,KAAK,MAAR,GAAiB,EAAE,CAAC,aAAD,EAAgB,GAAG,CAAC,GAAD,CAAnB,CAAnB,GAA+C,aAApE;AACA,aAAO,CAAC,GAAD,EAAM,YAAN,CAAP;AACD,KAJ2B,CAAD,CAA3B;AAKA,WAAO;AAAE,MAAA,OAAO,EAAE,eAAe,CAAC,EAAD,EAAK,OAAL,EAAc,OAAO,IAAI,IAAX,GAAkB,KAAK,CAAvB,GAA2B,OAAO,CAAC,UAAjD,EAA6D,OAAO,IAAI,IAAX,GAAkB,KAAK,CAAvB,GAA2B,OAAO,CAAC,IAAhG,CAA1B;AAAiI,MAAA;AAAjI,KAAP;AACD;;AACD,SAAO,SAAP;AACF","sourcesContent":["import type { MantineTheme } from '../theme';\nimport type { CSSObject } from './types';\nimport { fromEntries } from './utils/from-entries/from-entries';\nimport { useCss } from './use-css';\nimport { useMantineTheme, useMantineThemeStyles } from '../theme/MantineProvider';\nimport { mergeClassNames } from './utils/merge-class-names/merge-class-names';\n\nexport interface UseStylesOptions<Key extends string> {\n  classNames?: Partial<Record<Key, string>>;\n  sx?: CSSObject | ((theme: MantineTheme) => CSSObject);\n  styles?:\n    | Partial<Record<Key, CSSObject>>\n    | ((theme: MantineTheme) => Partial<Record<Key, CSSObject>>);\n  name: string;\n}\n\nexport function createStyles<Key extends string = string, Params = void>(\n  getCssObjectOrCssObject:\n    | ((\n        theme: MantineTheme,\n        params: Params,\n        createRef: (refName: string) => string\n      ) => Record<Key, CSSObject>)\n    | Record<Key, CSSObject>\n) {\n  const getCssObject =\n    typeof getCssObjectOrCssObject === 'function'\n      ? getCssObjectOrCssObject\n      : () => getCssObjectOrCssObject;\n\n  function useStyles(params: Params, options?: UseStylesOptions<Key>) {\n    const theme = useMantineTheme();\n    const themeStyles = useMantineThemeStyles()[options?.name];\n\n    const { css, cx } = useCss();\n\n    let count = 0;\n\n    function createRef(refName: string) {\n      count += 1;\n      return `mantine-ref_${refName || ''}_${count}`;\n    }\n\n    const cssObject = getCssObject(theme, params, createRef);\n\n    const _styles =\n      typeof options?.styles === 'function' ? options?.styles(theme) : options?.styles || {};\n    const _themeStyles = typeof themeStyles === 'function' ? themeStyles(theme) : themeStyles || {};\n    const _sx = typeof options?.sx === 'function' ? options.sx(theme) : options?.sx;\n\n    const classes = fromEntries(\n      Object.keys(cssObject).map((key) => {\n        const _mergedStyles = cx(css(cssObject[key]), css(_themeStyles[key]), css(_styles[key]));\n        const mergedStyles = key === 'root' ? cx(_mergedStyles, css(_sx)) : _mergedStyles;\n        return [key, mergedStyles];\n      })\n    ) as Record<Key, string>;\n\n    return { classes: mergeClassNames(cx, classes, options?.classNames, options?.name), cx };\n  }\n\n  return useStyles;\n}\n"]},"metadata":{},"sourceType":"module"}